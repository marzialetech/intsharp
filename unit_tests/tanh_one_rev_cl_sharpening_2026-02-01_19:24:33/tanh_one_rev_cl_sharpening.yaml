# Validation: tanh-hat, 100 pt mesh, one revolution, periodic BC, CL sharpening
# One revolution: domain L=1, velocity=0.5 => T = L/|u| = 2.0 s

domain:
  x_min: -0.5
  x_max: 0.5
  n_points: 100

time:
  dt: 0.01
  n_steps: 200   # T = 200 * 0.01 = 2.0 s (one revolution)

velocity: [0.5]

fields:
  - name: alpha
    initial_condition: "0.5 * (tanh((0.1 + x) / 0.02) + tanh((0.1 - x) / 0.02))"
    boundary:
      type: periodic

solver:
  type: upwind

timestepper:
  type: euler

# CL sharpening
sharpening:
  enabled: true
  method: cl
  eps_target: 0.01
  strength: 1.0

output:
  directory: unit_tests/results_cl_sharpening
  monitors:
    - type: console
      every_n_steps: 50
    - type: gif
      every_n_steps: 20   # 200/20 = 10 frames
      field: alpha
